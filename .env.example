# Raggy - Configuration Environment Template
# Copy this file to .env and configure your values

# ==============================================
# APPLICATION SETTINGS
# ==============================================

# Environment (development, staging, production)
ENVIRONMENT=production
DEBUG=false

# Application metadata
API_TITLE="Raggy - Assistant IA Privé"
API_DESCRIPTION="Solution RAG sur-mesure pour entreprises françaises"
API_VERSION="2.0.0"

# Client customization
CLIENT_NAME="Votre Entreprise"
CLIENT_SLUG="votre-entreprise"
PRIMARY_COLOR="#1e40af"
LOGO_URL="/logo-client.png"

# Application URLs
NEXT_PUBLIC_APP_NAME="Raggy - Assistant IA Privé"
NEXT_PUBLIC_APP_URL="https://your-domain.com"
NEXT_PUBLIC_ENVIRONMENT=production

# ==============================================
# AI/LLM CONFIGURATION
# ==============================================

# Groq API (primary LLM provider)
GROQ_API_KEY="gsk_your_groq_api_key_here"
GROQ_MODEL="deepseek-r1-distill-llama-70b"

# Alternative: Local LLM (when using local-llm service)
USE_LOCAL_LLM=false
LOCAL_LLM_URL="http://local-llm:8080"
LOCAL_LLM_MODEL="mistral-7b-instruct"

# Embedding model
EMBEDDING_MODEL="dangvantuan/sentence-camembert-base"
EMBEDDING_DIMENSION=384

# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# Supabase (primary database)
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_SERVICE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# PostgreSQL (when using local database)
DB_HOST="postgres"
DB_PORT=5432
DB_NAME="raggy_db"
DB_USER="postgres"
DB_PASSWORD="raggy_secure_password_2024!"
DATABASE_URL="postgresql://postgres:raggy_secure_password_2024!@postgres:5432/raggy_db"

# ==============================================
# REDIS CONFIGURATION
# ==============================================

# Redis cache and job queue
REDIS_URL="redis://redis:6379/0"
REDIS_HOST="redis"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0

# ==============================================
# SECURITY & AUTHENTICATION
# ==============================================

# Application secret key
SECRET_KEY="your-ultra-secure-secret-key-change-this-in-production"

# CORS origins (JSON array format)
CORS_ORIGINS=["https://your-domain.com", "https://api.your-domain.com"]

# JWT settings
JWT_SECRET_KEY="your-jwt-secret-key-change-this"
JWT_ALGORITHM="HS256"
JWT_EXPIRE_MINUTES=1440

# ==============================================
# PERFORMANCE & LIMITS
# ==============================================

# Document limits
MAX_DOCUMENTS=1000
MAX_UPLOAD_SIZE_MB=50
MAX_QUERIES_PER_DAY=10000

# RAG performance settings
FAST_MODE=true
MAX_CONTEXT_DOCS=5
USE_HYBRID_SEARCH=true
USE_RERANKING=true
USE_QUERY_ENHANCEMENT=true

# Chunk settings
CHUNK_SIZE=800
CHUNK_OVERLAP=100

# ==============================================
# FEATURE FLAGS
# ==============================================

# Enable/disable features
ENABLE_UPLOAD=true
ENABLE_EXPORT=true
ENABLE_ANALYTICS=true
ENABLE_DEMO_MODE=false
ENABLE_MULTI_LANGUAGE=false

# ==============================================
# MONITORING & OBSERVABILITY
# ==============================================

# Sentry error tracking
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ENVIRONMENT="production"

# Analytics
NEXT_PUBLIC_ANALYTICS_ID="your-analytics-id"

# Logging level
LOG_LEVEL="INFO"

# ==============================================
# DOCKER & INFRASTRUCTURE
# ==============================================

# Container configuration
BACKEND_PORT=8000
FRONTEND_PORT=3000
NGINX_PORT=80
NGINX_SSL_PORT=443

# Health check settings
HEALTH_CHECK_INTERVAL="30s"
HEALTH_CHECK_TIMEOUT="10s"
HEALTH_CHECK_RETRIES=3

# ==============================================
# GPU & LOCAL LLM (OPTIONAL)
# ==============================================

# GPU support for local LLM
ENABLE_GPU=false
GPU_MEMORY_GB=8
NVIDIA_VISIBLE_DEVICES="0"

# vLLM/TGI configuration
VLLM_HOST="0.0.0.0"
VLLM_PORT=8080
VLLM_MODEL_PATH="/models/mistral-7b-instruct"
VLLM_GPU_MEMORY_UTILIZATION=0.8
VLLM_MAX_MODEL_LEN=4096

# ==============================================
# DEMO & TESTING
# ==============================================

# Demo organization ID (for demo corpus loading)
DEMO_ORG_ID="demo-org-12345"

# Test configuration
ENABLE_TEST_MODE=false
TEST_API_KEY="test-key-for-development"

# ==============================================
# BACKUP & MAINTENANCE
# ==============================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7

# Maintenance window
MAINTENANCE_WINDOW_START="02:00"
MAINTENANCE_WINDOW_END="04:00"
MAINTENANCE_TIMEZONE="Europe/Paris"

# ==============================================
# NGINX & SSL (PRODUCTION)
# ==============================================

# Domain configuration
DOMAIN_NAME="your-domain.com"
API_DOMAIN="api.your-domain.com"

# SSL configuration
SSL_CERT_PATH="/etc/letsencrypt/live/your-domain.com/fullchain.pem"
SSL_KEY_PATH="/etc/letsencrypt/live/your-domain.com/privkey.pem"

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=100

# ==============================================
# NOTIFICATIONS & ALERTS
# ==============================================

# Email notifications
SMTP_HOST="smtp.your-provider.com"
SMTP_PORT=587
SMTP_USER="notifications@your-domain.com"
SMTP_PASSWORD="your-smtp-password"
SMTP_FROM="Raggy <noreply@your-domain.com>"

# Webhook notifications
WEBHOOK_URL="https://your-monitoring-service.com/webhooks/raggy"
WEBHOOK_SECRET="your-webhook-secret"